õÙ:íÛy %
ñ¢—aÉjustîñK¶iİe 65îñK´îÉent 2ñ¢—fÓll
.ü›úâÙe
11õí ile Sşœºãéure
ô"Ó“GN OBùQaÔ“VES
ñ2z Ós  deşzyeÉ  to ô0öË a  fı™|iÅle  fıü¶áé  forô3iÙe
stıü°çË,  whı8ô Éoes nııiÛpose ô7ïAstricşˆ9eãuiremü»ºsAon thü£ErËlativü¨7òÏanizaşšwîAof fiı™y®A  Theô7îË or tşûĞlËvel, ô´øËd
naı¹PsÓze stş]qôëre ofôpîó systü»y çeems ı;°äËquateõÈIé woulüƒEaÙso  bü¨7iÇe  toô² Ãble  ş›Ğuçe  a şúreAvarieşP ßf disı|Ğaİd
dişzÖìÓke  dü½´ãËs,  bıı4 Avery ô0òÏe  anüˆvËry  sı¸vl]    IıÃEpÃrticuı˜y,Athe fı>2äAstoraüùPoíerheaüˆ7æAthe sÿ<úeÛ shouı™ Åe
smü;6 Aenougı:oA permı=sÛall dı<õóA to bü¨uçed wişš7õé usinüãEhÃlf thüºy çpace üÛù Éirectıü´åç.  Thü¨1lßck siÿYPcÑosen şz7õÙd
beôúãÑ thatô0òÏe amoş»ºsAof coşYPaåe notô²åÉed foşHbëffersõƒEbët  eaüz Ålock ô9ôÓll  cıûºaÓns  aôrËasonaü[2 Aamounşˆ ßf
inüÛùmÃtion.ñ¢„ÄËpendiıÙĞ ëpon wıĞ éhe usü¼¹ ßf  a şšvåçharinüè9ùçtem
ü<²¬Ait maÿ(7òAmay nıı Åe desı<°âÙe to ş·öÓde acüyyóA contş[öfor  üÚveç.   TıyeÍore, ôP Ïeneraıˆ9ùçtem  ıù Ãccessô÷îérol
şz7õÙd   bü¨iİherenşˆtß   thü¨fÓle  sşœºãéure, ô1ué  if ôwadminş}9aéive (ıüuçer) lü½²ìAdecisı;÷ Ais maü™Pnßt to ş¼ò Ait,
ı=sÑould üšyáápear üü°ãËfullyõÈŠThe  ü™yãåiptioıÜĞoÍ the üÚveç  shoş»2,Aof coş¼¹åY takeñ¢°óAlittlü¨sáace  ü<Ğ áossibı™] Afilesôôiéh  shıüº Anamesõˆnß
speüzpìA acceş|Ğcßntrolõˆ0îÉ few ü[7ã×s shoş»2 éake vü¼¼ Ùittleñ¢¹oßm  inô:hË  dirü¸úoåy,  wıveA a  fı;2 Awith ôP Ùong  ıØvåY
comş4ãÃted  ü8ñåçs  prıı2ãéion  ü;² A manyô1lßcks  ı<Ğ Astillñ¢†Š
posşzqlË.
 OúÑiV“EW
	úš2 Afile ô4òËctoryô;éÙl   bü¨aA Multı8ù­Ùike  ô9eË
strş¸úuåe,  aı›7÷Óng  hı9yaåchiesôó AarbitşXyyA (welı‹aÙmost)ñ¢´aÓrinesşk “n thişh9ôåucturü¨:hËre isô÷ló one üšyeÇtory şú4ãÑ
is ü™siİed  aşh2øÓsting÷htÑis  işh1áÙled  şš2 åoot  üšyeÇtory.ñ¢ îó otheşH2iåectorÿ(4îAthe sÿ<úeÛ is pıúwtËd to üºzhËr dirü¸úló
or ôwdÓrectlÿ(bó the ô·ïé direü}7òó.   IüÈaAdirecş›ùyA A isñ¢¸oÓnted ş›Ğbó anotıy Éirectıü¼¬AB,  Aôy ÇalledôP"çon" oüÈBY
whiı™P Éirectıü¼ …  is üxvlËd theômßther"ôó Adirecş›ùyAA. Inñ¢ºhÓs terıºwoÙogy, ü;6 Éirectıü´åç are ü™yãËndantşh7æAthe  ş[÷ôw
theô9ğËcial üxyåA of tıPrßot  dı<²ãéory işœòìÍ  is ıwdÙed byñ¢±ïİsiderı;³ éhe  rıûú Ato  bü¨4ôç  ownô6ïéher  ü;² Ason. ô ìÙ
dirü¸úoåies mü>Pcßntainôwtåies oüÈ3oër difüÙyeİt typü¼× AEveryñ¢²iåectorÿ(cßntainşkaç its üÚysé entrÿ+aİ entrÿ(7æAthe hü¸reå
typü« AThis ü{÷tÃins tıPnÃme ofô:hË direü}7òó and ü(pßinterñ¢±aÇk  toô4eAdirecş›ùyOs motıy.A  Theô4eÃder mü>PaÙso coıİ0éİ
accü¼ù Ónformü=4ïİ  whiüz ïill aş6yA to  ü;6 Ëntrieşhiİ  theñ¢²iåectorÿ(uİless ôûeåruledôbó  accü¼ù A infoş[pôÓon  iıÈ0partiü}vaå entrÿ+†ŠThe  şyqïİd typü¨7æAentryôy Aa poiıİ2òAto a üšyeÇtory.ñ¢ªhËre maÿ(1eAonly ô÷eAsuch şôîéer foşHeÃch dişYqôßry inô:hË
sysş™v®A  Thişheİtry aıœ÷ Acontaı;¹ éhe naı¹P ßf theô4òËctoryñ¢ºhÃt it şôîés to.ô*hË thirüˆ:yáe of ü»ºró is aô4î×.  Thı<Ğiç
simş< éhe naı¹P ßf theô6iİk andüPfÓle  sşqéÍicatiıûoÍ  theñ¢†Š
filü¨4ôApointşh:o]
	Thü¨3oåth anüˆ6açt typü¨7æAentryôy Ã fileô2óÇriptiıû—This ô÷îéains şš2 İame oüÈ:hË fileõˆtÑe datü¨0îÉ timeô4aé it
şøy Ùast mıù4æÓed, tıPyËar anüˆ6ïİth itôğóAlast ü8ñåçsed  üÛùany  şœ°îçfer, şš2 ÙocatiıûoÍ the şš2 Íiles ü˜zaAblockşh7îAthe
üšyëY and ô7óçibly ü8ñåçs  inüÛùmÃtion.ôTÑe filü©ù Asize ôyeitheşH9ğËcifieüˆ0óAan exü8ú İumberôó Ålocksõˆ7òAan inüšqáéion
ı<Ğ Ûade tıPlÃst byş™PoÍ the ô0óé blocıh4óAnot uşyr,Ain whı8ôcase şš0ôAbyte ı;²iÇates ıû Ûany  ü^zeç of tıPlÃst blıøõ Aare
ş¼òä]   
õÙxaÏe 1
ñ54eA rootô4òËctoryô÷îéains ôòöËral sşqéÃl filü¼Ğaİd
dişYqôßries.ô*hË mostôvğßrtantôó éhese ü<² éhe bişˆ:aÅle anüƒEtÑe disıh2eçcriptı;÷.A  Theô´ôAtableô÷îéains ıû² Åit foşH2áÇh
51öH;ïåd bloüzĞoİ the üšyë]   FoşH:hË RF11ôwdARK05 üšyëç, onlÿ#Eoİe 512ô÷òÉ blocıh7æAbits şúvlAbe neü¹2äY but üÛù Ã 2314ô:yáe
ofô2içk, 3 ıü4Amightô² İeededõÈ “f a dı<õ ÉeviceôôiÇh useşcEaÙl 16 ü=°éÙable ôrdåessinüè1iés  isôyåÉ, it ôôìÙ requı<² q
bloüzù Aof bişˆ:aÅle.  ôôeİ a fiı™P Ós creü=2äY as işˆ9eãuiresñ¢±lßcks oüÈ2içk spaüyV éhe bişˆ:aÅle isôòáåched üÛù Ã zeroô´ôY
whiüziç thenôòôAto onü« AOrdinü<´ìó, wheıÈ0 Íile işh2eÙeted,ñ¢ºhË  bitşh4îA the üZz éable ôyóßciateüˆ;ééh theô1lßcks oüÈ:hË
filü¨aåe  seşˆtß  zerıë AHowevü¼– Aif  aô9áÙvaginüèpåogramñ¢²içcoverşhtÑat twıè7òA moreô´ìËs refü¼tß  theôğíË blocıkié
wilıˆ9åé a bişˆ4îAthe fı;2 Ëntrieşh7æAall fı;2óAwhichô7éİt  toñ¢ºhË  bloüz× A WhenôPfÓle  eıİ9yAis deı™zeÉ  whiüzhÃs thişh1ié

ñ¢¹åé, nonü¨7æAthe  üZzsAassocı8zeÉ whitıtÑe filü¨0òË  cleü<²äY
allııôîÏ  theôúhËr filü¼Ğtß  conşšwuË to rü¹²òËnce tıv®A  Theñ¢²içk desü|´ğéion cıûºaÓns  tıPlÓmits ıù éhe swü<aåea(s)õˆiÍ
anyõˆbÓt tabı™P Ëntrieşh3oå reseş]²äA blocı|Ö Óf  anÿ+aİd theñ¢±açe yeaşHtß  be ü92eÉ  to ô4eA yearô´ôç  in ô´ìË  entşZró]
Typı8ğìÙy,  tıPrßot  dı<²ãéory wı;6 Aalso ü{÷tÃin  pıúwtËrs toñ¢ºóËr   dı<²ãéoriesô0îÉ   toô0ãÇountiıÙÖ A passşûùdA and ôyåå
ideıİ4æÓcatioıÈ3iÙes.  ôz Ûight üYPnßted hü¼² éhat uşyysA willñ¢´aíe  upô7 A3 speüzsiÇationşn Ãll  uşyysAmust ô0öË a prıú²ãé
namü¨0îÉ a prıùùaÛmer nü;r®A  Eacı8rßject ü;² Ëach  programmer
is  also assigned a  8 bit number.   In  addition to these, the
user might have an optional login name, from which his  project
and  programmer  names and  numbers will  be obtained  by table
lookup. 
 GRIMEY GUTS
	Directories are all exactly one block (512 words) long.
They are  composed  of 4  different  types of  variable  length
entries.   Each entry has a name and may have a version number.
The entries are kept in  order, first alphabetically, and  then
by  version number, except for the  header, which is always the
first entry.
	first word of entry:
.sp
	T1 T0 L5 L4 L3 L2 L1 L0 F7 F6 F5 F4 F3 F2 F1 F0 
.sp


	T1 T0 meaning
	0 0 file
	0 1 directory
	1 0 header
	1 1 link
	F7 means version number exists
	F6 means access information exists
	All entries have the same basic format:  the first byte
contains 2 bits specifing the type of entry, and 6 bits  giving
the  length  of the  entry in  words.   The next  byte contains
flags.   Bit 7  of this  byte indicates  that the  entry has a
version  number, and bit 6 indicates  that the entry has access
information.   The meaning of the  remaining 6 bits depends  on
the  type.   The name of the  entry immediatly follows the flag
byte.   All characters of the name  have bit 7 off, except  for
the  last.   If there is a version number, it follows the name.
If bit 7 of  the first byte  of the version  number is on,  the
version number is the remaining 7 bits.  If it is off, the next
byte is the low order 8 bits of the 15 bit version number.   If
the file has access information, it follows the version number.
This information comes in triples:
	byte 0 project number (8 bits)
	byte 1 programmer number (8 bits)
	byte 2 access bits
.br
The first two bytes specify the project and programmer  numbers


that  the triplet  is to apply  to, the third  gives the access
bits for the specified user(s).  A project or programmer number
of 377 specifies all projects or programmers.   The access bits
mean:   
	bit meaning
	7 this is the last triplet
	6 don't allow entry name to be listed
	5 allow entry to be loaded to execute
	4 allow entry to be read
	3 allow entry to be appended to 
	2 allow entry to be deleted, or write modified
	1 allow the enrtry to have access information changed
	0 unassigned
	The  access  information for  a given  user to  a given
entry is determined either by the information for that user  in
the  directory header or in the particular entry.   If there is
no acces information in either  place all users may access  the
entry for any transfer, i.e. the access byte is 077.   If there
is access information  in both  the header and  the entry,  the
information  in the entry applies.   The triplets are stored in
order from  most specific  to least  specific.   Thus  triplets
which  specify  specific projects  and programmers  come first,
followed by those which specify  all programmers of a  specific
project,  followed  possibly  by  one  for  all  projects   and
programmers.  If there is any access information relating to an


entry, users not specified by it have all access bits zero.
	After  any access triplets, the meaning of data depends
on the type  of entry.   For  files and  directories, the  next
bytes  give the addresse(s) of the block(s) associated with the
file or  directory.   This information  is stored  in a  highly
compressed format similar to that of the ITS system.  The first
2 bits of each byte give the type of the descriptor byte.   For
type 0 bytes, the next 6 bits are
	%0 %0 D5 D4 D3 D2 D1 D0 
.br
a displacement to be added  to the current disk address,  which
is  always one greater than the address of the last block which
was part of the file.   One block of the file is at the address
resulting from this addtion.   Type 1 bytes give six bits which
are a count of the number of times
	%0 %1 C5 C4 C3 C2 C1 C0 
.br
to get the next address by  adding one to the current  address.
Type 2 bytes give the six low order (5-0) bits of a sixteen bit
address.  The next byte 
	%%1 %%0 A05 A04 A03 A02 A01 A00 
	A15 A14 A13 A12 A11 A10 A09 A08 
	A07 A06 C05 C04 C03 C02 C01 C00 
.br
gives  the 8 high order bits (15-8) and the first 2 bits of the
next byte are bits  7 and 6 of  the address.   The remaining 6
bits are used like those of type 1 bytes.  Type 3 bytes contain
3  bits of displacement information and  3 bits of count, to be


used as for types 0  and 1.   The displacement is added  before
the count is used.
	%1 %1 D2 D1 D0 C2 C1 C0 
	On  the next word boundary after the block usage bytes,
file entries have two words of time and date  information;  the
first  word is 16  bits of the  time the file  was last written
[(hour*3600 + minute*60 + second)/2].   The next word  contains
10  bits of  the date  the file  was last  written[(year - base
year)*512 + month*32 + day] and  six bits of the date the  file
was  last refferenced  (other than  for entry  listing)[(year -
base year)*16 + month].  Also, bits 4 and 5 in the flag byte of
file entries have  special meaning:  bit 4  means don't  delete
the  blocks of the file when  deleteing the file.   Bit 5 means
that the last byte of the last block of the file is not used by
the file.  If this is the case, the last byte of the last block
conatins the low  order 7 bits  of the number  of bytes in  the
last  block which are not used.   if bit  7 of this byte is on,
the next to last byte contains the high order 2 bits.
	On the  next word  boundary after  the name  or  access
information, header entries have a 16 bit pointer back to their
mothers.
	For  link  entries,  the  link  information immediately
follows the last byte of name or access information.   This  is
simply  a  file  specification   which  is  spliced  into   the
specification  that cuased  it to be  referenced.   As with the


name, the 7 bit is zero  for all but the last byte.   The  file
specification  may include some special characters which either
indicate which  version of  an entry  is to  be referenced,  or
indicate  movement within  the tree  structure.   The character
space causes  the termination  of a  file name.   If  the  next
character  is  not  special, the  named  entry is  opened  as a
directory.   If the  next character  is  special the  space  is
ignored.  The character # causes the following digits up to the
next  non  digit  to  be  used  as  the  version  number.   The
characters < and > cause the  entry with the least or  greatest
version  number  to  be  referenced.   The  character  ^ causes
movement up the tree  to the mother  of the current  directory,
while  ;  causes movement all  the way back  to the root.   For
example, ;FOO BAR>X#69NERD< specifies the least version  number
of  the  file  NERD  in  the directory  X  version  69,  in the
directory BAR of the greatest  version number in the  directory
FOO in the root directory.
	The  two special entries in the root directory, the bit
table and the disk description, are just regular files in  that
directory.     In the case of the bit table, the length of file
in bytes  information that  the system  keeps gives  the  total
number  of blocks  available on  the disk,  in multiples  of 8.
Except for that,  the bit table  is perfectly  straightforward,
with each byte indicating the status of one 512 word block, bit
0 being the first and bit 7 being the last.   E.g. bit 3 of the


5th byte refers to block 44.   The disk description contains 9
words.   The  first word is the  base year for this pack.   The
next 4 words are pairs of  address, length for each of the  two
possible  swap areas.   The last  n words are  pairs, the first
word of which is an offset in the bit table, and the second  of
which  is a word of bits  indicating blocks which are always in
use (possibly bad spots  on the disk,  or reserved for  special
usage). 
 Files  are never written into these areas, but programs may be
swaped into  the  swap areas.   The  timesharing  system  never
references the reserved areas.  
.end

|