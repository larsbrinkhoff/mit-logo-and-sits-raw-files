

TO DIAFc0 MAKF5)APLDANE1
30 D0gEe
40 `΋#E5a DIANE3
60 DIANE1
70 DIANE4
80 DIANE1
90 DIANE5
10"INE1
,X 0gE
120$Ω1
13"IT2
1D150 D32L[0ADINT1
170$ΩCE1q"IFc90 DI200 DINTB
210 `΋#E2e0 DIANE2
230 DIANE14a DIANƊe50 DIANE1
260 DIANEE2o0 DIANE1
N 0gEk9a DIANE1
300 DIANE4LذADINTB
320 DFINE
ENETO DIANE1
10 CHORUSPc1 DP2 DP3 DP4"
END

TO DIANc!ȟRUS "DP12  P3 DP4"
END

TO DIANE3񢘰ACHORUhD,D2 DP3 DP4"Ή

T"INE4
,CA"DP14 DP2 DP3 DP4"

TO DIANE5
10OUS "DP15 DDh"Pi"
END

TO DIANEB
10 CHORUS "DINB1 DINB2 D33ADINB4"
ENETO DINT1
10 CHORUS "DIN11 DIN2 DINh"I4"
END
U'INT2
10 CU "DIN12 DI̐DDEND
OAgT񢘰Ar'ҫS "DNTB1 DNTB2 Bg DNTB4"
EU'FINE
10 PLAY "<D/16 F A D*>"
END

TO CHORUS :X
10 LOCAL "MAX" "BUF" "YCE1k`ˋA1
20 MAKE "MAXH&«՝E3a MAKE "BUF" :MAXI EMPTYP :X GO 2i5 IF VOICESH(L(*HNG "VIYAMAKE "Y" :Y+1 GMX O FIRu:
60 eA"X" B#IST :X񢛰AeAS`E MAXIfuMAX MBUFCO90 MBԃRT
100 MAqP"UF" :BUF+1񢘱a MBUFNEXT :BUF
120 GO 40
200 MBUFu ҩ1a MBUFlTA((:MAX_4)*4
ENDCET&A :X
&O3"" "Z" "PLNEXT"LX +ϥDP :X MAKE"AUjFRST SECE 1 Vc2 IF EMPTY#IST :X GO 4Fc$AO=IRST FIRST :X GO 500
20  ٝOTE INTERPQj 4AVi05 MAKE "X" BUTFIRST :X
X F EMPTYP :X STOP
420 GO 15
500 MAKE "Y" BUTFIRST SENTENCE (!UiS FIRST :X
510 MAKE V UTFIRST :X񢚲a IF ">"=LAuFRST :&E "PLNEXT"ΩA:Y BUTLAST FIRST :X 6aE5g0 MAKYEΩENCE :Y FIT uX GO 510
 AKE "BTFIRST :X
610 r'ҫhPNEXT PLNEXT PLN* ة"
620 GO 410
END
OADP2
10 PLAY "A[  A A"
END񢆊"Pg
10  A"F/16FA膊TO DP4
10 PLAY "D/H * A D A D*QLP6P"/2 A D* A C A D* A"L LAY "*B/2 ! 
  B F"
40  A"*A/2 E A AAE A ECEED

TO DP,Fc0 PLAY "A/,B_4 A/2"
20 PLAY*_10 E*/4 F*lP6P"KذAE*/4 D*/2"
40  AQ/qѪ_8"
END

TO DY10 PLAY "AX /4 A/2"
20 PLAY "A/"*_2 E*/#*_2"
30 PLAY "F*/10 E*/4 D*/2"
40 PLAY "D*/8 h/q"
ENETO DP13
1(L(A_10 D*/4 E*20 PL6P"*/8 E*/2 F*/4 GK"L LAY "A*/8 ꗲAF*/4 E*/2"
40  A"D*/8Ѫ_TO DP14
10 PL6P"/10 B/4 A/2"
2(L(A_,B_4 A/2CE3a&A "A/8״A"40 PlED/8 C#/8"
END

TO DP15
10  A"A/10 B/4 A/2"
20 PLAY "+ذAD*/4 A/2"L lEA/8 G/4 F/4"
40 PLA(D_8 C#/8"
END

TO DIN11
10 PLAY " /4 F/4"
2(LY "G/8 D/6 G/2"
30  AQAB D* Hi0 PLAY "C*/8 D*/4 C*CEEETO DIN12
10 PL6P"/8 C/#/i"
20 PLAY "G/8 D/6 G/2"
30 PLAY "F/4 B CE4a PLAY "C*/8 D*/"EΉ

TO DIN2
10&Aq C D D F F G G"Ή

TO DIN3
10 PLAY "A/8 A B% D E E"
EU'IN4
10 PLAY "*F/2 C F C *F C F C"
20 PlE*G/2 D G D
 G D"
30  AJ/e F B BA! "
40 PLAY "C/2 G C* G C G C* 膊ND

TO D!1LX LAY "D*/16 D*"QgD
TO DNTB2
10 PLAY "A/1 END

TO'TcE1a PLAY/c#"ENDCET'T4
10&A/ePDU A D ("*AA D A  D A D* A"
END

TO DINLFc0 PLAY "A/,B_4 A/2CE2a PLAY "A/10 G/4 A/2"
30 PLAY "A/8 B/4 A40 PLAY "G/16"QgD
TO DINB2
10 PLAY "A/1  C*"
END

TO$΅cE1a PLAY "F/16 F F E"

TO DINB4
10 PLAY "D/2 A D* ("  "
20 PLAYePDU A C A D* A"
30 PLA(*/2 F B F *H#  F"
40 PL6P"GAC* G h#* G"
ENDCET DIANEA
10 DIANE1
LDANE2
30 DIANE1
40 DIANE3
50 DIANFm"INE4
D380 DIANE5
90 DIANE1
100 DIAa110 DINT1
120 DINT2
130$Ω1
140 DINc50 DINTB
160 DIANE1
170$E4
180 DINTB
190 DFINE
ENDCETbͅERP :LLX F EMPh uL OUTPUT "FALSECE2a IF :X=FIRu: OUTP"UbL 2EBTFIRSLA1aΉ

T(O5$ϝ :X :iLX OCAL VQLMqP"" 1
lI EMPT4:4 (U 0
40 IF :X=FIT uLIST jPT :Y
50 M2E(:+1
60 MAKLST" B#Iu:IST
G 30
END
OA$ uX :LIST
1$AhTP :LIuEIT "L4 OO SHORT"
20 IX{1 OUTPUT FIRST S$ө񢙰AMAKE "LIST" BUTFIRST :LIST
40`ˋ"A:X-1
50 GO 10
ENDCETgTRPRETXLX OCAL V EY" "ZCE2a`ˋ"A:XX
MPMqP"HTaAE
30 IF NaEP :X 1a,i$A"*"=F4A:X MAqP"" :Y-12 MAKE "XH!UiS O 40
50 I"͡TYP :X GO 500
I{FIRST :X MAKE "X" BUҧT :X GO 50E7a IF "HƓT u&E "Y" :Y+12 MAKXE BUTFIRST :X GOX80 MAqP"" :Z&FIRST :X
,MKE "XH!UiS100 GO 50
500 IF NUMBERP :Z M2E(:+:Y GO 1000
505 IF EMPTYZAMAKE VQ uLASTPITCH 1a00
510 IF"{FIRST :Z M2EY" :Y+SCALE BUTFIRST O 1000
520 IF "+"=L4 uZ MAKE "Y" :Y-:TUNEBASE+:LASTPITCH+BUTLAu: GO 1000
530 IF "-" ө :Z MAKE "Y" :YUӋ+:LASTPITCH-BUTiA:Z GOX0a񢚳cc uZ="REST" M2EY" 0 GO 1000
532 IF=EBOOM"`ˋ "Y" 1 GO 1000
533 IF :Z="GRITCH" MAKE VQ ec540 MAKE "Y" :Y+SCALE :ZLX0a IF EMPTYP :X M2EX" :LASTDUPjIN
1010 IF NUMBERP :X MAKE "LAu"UATION" :X OUTPU)ŝgC :Y :X
1020 MAqP"H"1030 IF EMPTYP :X GO 2000
1040 IF ","=FIRST 2EBTFIRST :X GO 20c050 MAKE "Z" :ZѤҧT :X eA"X" B#IST :X GO 1030
L0AIF NOT NUMBERP VMKE "ZH*E:0a&LSTDUR5$ϝ" :ZL1ac *Y UTPUTΩAVP:
202'թj QqgTNCE :(ZAVEND
OASCALE :XX
10 LOCAL V E("" "NAe&YE 0
2&E "X" :XX
30 IF "#"=LAST :X MAKE "Y" :YlPMKE "X" BUTiAVG 30
I "$"=LAST VMKE "YHY[1 MAKE "X"ԙAST :X GO i5 IF "%"=L4 uX MAKNT" 1 MAKE V UTLAST :X
50 I'UBERP :X GO 500MZF "+"=LAST :X MAKE "X" :L4SALE+BUTLAST :X GO 50E5m IF "-"=LAu:`ˋ "X" S өSCALE-BUTL4 uX GO 500
70 MAKE "L4S3"APOSITION :CAD E F G A B"
7$AS өp̋PINT :XX EXIT " 4N$ATHE SCALE"0AIF 1=:NAT 1aE8ec :G 100
85 IF MEMBERP :X :FLATS MAKE "Y" -1
90 IF MEMBERP :X :SHARPS MAKE "Y" 1
100 OUTPUT :PIANOC-:TUNEBASE+:Y+NTH :LASTSCALE "0 2 4 5 7 9 11"
500 MAKE "LASTSCALE" :X
502 MAKE "X" :X+:SCALEBASE
505 IF :X<1 MAKE "X" :X+COUNT :SCALE MAKE "Y" :Y-12 GO 505
510 MAKE "Z" :SCALE
520 IF :X=1 OUTPUT :Y+FIRST :Z
530 MAKE "Z" BUTFIRST :Z
535 MAKE "X" :X-1
540 IF EMPTYP :Z MAKE "Y" :Y+12 GO 510
550 GO 520
END

TO TEMPO :XX
10 LOCAL "X" "DOT"
20 MAKE "X" POSITION FIRST :XX "S E Q H W"
30 IF :X=0 GO 80
40 MAKE "X" NTH :X "1 2 4 8 16"
50 MAKE "DOT" :X/2
60 MAKE "XX" BUTFIRST :XX
70 IF EMPTYP :XX OUTPUT :X
71 IF "."=FIRST :XX MAKE "X" :X+:DOT MAKE "DOT" :DOT/2 GO 60
80 TYPE :XX EXIT " IS NOT A DURATION"
END

TO PLAYNOTE :Y
10 LOCAL "SAVEINST"
15 IF 1>FIRST BUTFIRST :Y EXIT "DURATION LESS THAN 1 NOT ALLOWED"
22 IF EMPTYP BUTFIRST BUTFIRST :Y GO 30
24 MAKE "SAVEINST" :INSTRUMENT
26 MAKE "INSTRUMENT" LAST :Y
30 IF NOT :INSTRUMENT="DRUM" GO 90
40 IF 4>FIRST :Y GO 90
60 MAKE "Z" 1 GO 100
90 MAKE "Z" FIRST :Y
100 MAKE "Y" FIRST BUTFIRST :Y
105 MBUFPUT :Z
108 IF :Z<4 GO 130
109 MAKE "LASTPITCH" :Z
110 IF :INSTRUMENT="LEGATO" GO 200
120 IF :INSTRUMENT="SLUR" GO 300
130 MBUFNEXT :NVOICES*:Y GO 400
200 IF :Y=2 MBUFNEXT :NVOICES*2 GO 400
300 MBUFNEXT :NVOICES
310 IF :Y=1 GO 400
320 MAKE "Y" :Y-1 GO 105
400 IF NOT EMPTYP :SAVEINST MAKE "INSTRUMENT" :SAVEINST
END

TO PLNEXT
10 LOCAL "X" "Z"
20 IF EMPTYP :PLNEXT STOP
25 IF EMPTYP FIRST :PLNEXT MAKE "PLNEXT" BUTFIRST :PLNEXT GO 20
30 IF "("=FIRST FIRST :PLNEXT MAKE "X" BUTLAST SENTENCE BUTFIRST FIRST :PLNEXT 1 GO 100
40 PLAYNOTE INTERPRET FIRST :PLNEXT MAKE "PLNEXT" BUTFIRST :PLNEXT STOP
100 MAKE "PLNEXT" BUTFIRST :PLNEXT
110 IF EMPTYP :PLNEXT GO 195
120 IF ")"=LAST FIRST :PLNEXT MAKE "X" SENTENCE :X BUTLAST FIRST :PLNEXT GO 190
130 MAKE "X" SENTENCE :X FIRST :PLNEXT MAKE "PLNEXT" BUTFIRST :PLNEXT GO 110
190 MAKE "PLNEXT" BUTFIRST :PLNEXT
195 PLAY :X
200 STOP
END

TO PLAYT :P :D
10 LOCAL "X"
20 IF WORDP :P MAKE "P" BUTFIRST SENTENCE 1 :P
30 IF WORDP :D MAKE "D" BUTFIRST SENTENCE 1 :D
40 IF EMPTYP :P STOP
50 IF EMPTYP :D STOP
55 I"͡TYP FIRST :P MAKE "P" BUTiS :P GO 55
58 I"͡h IRST :D MAKE "D" BUTFIRST :D GO 58
60 IF NUMQiPAFIRST :P MAKE ":UNEBASE+FIT uP GO 80
7&E "X" FIRST INTR#IST :P
80 PLAYNOTE SENTENCE :X BUTFIRST INTERPRET FIRST :D
90 MAKE "PH!UFIRST :P
100 M2EBTFIRST :D
110 GO 40Ή

T(LY4 :V1 :V23A:V4
10 CHORUS "VOICEND

TO NVOIC:
10 MAKE "NVOICES" :N
2+OCES :N
END

TO ST4MSIC
10 MBUFINIE2a NVOICES 4
30 MBUFC`40 MAKE "TUNEBASE" LƊk&E "SCALEBASE" 00AMAKE "INSTRUMENT" "Lԟ"
70 MAKE "FLATS" "CE8a MAKE "SHAT)A""
90 MAKLSTPITCH" 23
10&E "LASTDURATION" 2
,X 2ESCALE" "0 2 4 5 7 9 ,Q120 MAKE "PIANOh2g
END

T+OCE :N񢘰AƧTART
20 MBUFNE:-1
END
U'M
10aUj20 MBUFCLEAR
E2┩UNEBASE 23
e)iԡITCH)
MAK&ATDURATION 16
MAK&ATSCALE 2
MAKEFLATS B
MAKESHARPS (INOC 23
MAKEEBASE 0
MAKESCALE 0 2 4 5 7 9 11
MAK$ΧTRUMENT LEGATO
M2┝ËS 4

