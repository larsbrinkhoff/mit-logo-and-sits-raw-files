ZJI

JL\U0

JSLFWFX2

JKFWFX3KFWFX1KK:<SFWLI
4K>ZK

JSL:<SRQ0<I
>S>

J:<SQ0+1L.U4SRQ4,.K>

J:<SS
Q0<IFONT <:LI>L>>

ZJ-D
J:<S
CDEF1 >


JI.SBTTL FONT MACROS AND DEFINITION

;FONT ITEM DEFINITIONS
FNTREF==2
FNWIDE==4
FNHIGH==6
FNTEND==10
FNTPNT==40

CWIDTH==
CHIGH==

.MACRO CHARPT A
.IFDF	CPT'A
CPT'A-FSTRT
.IFF
0
.ENDC
.ENDM

.MACRO BITDEF A
BIT'A==1_A
.ENDM

.REPT 16.
BITDEF \.RPCNT
.ENDR

.MACRO BITAD A
BITSTR==BITSTR!BIT'A
.ENDM

.MACRO	FONT A
.IF2
BITSTR==0
.IRPC	CHR,A
.IIF NB	CHR,BITAD \CWIDTH-.IRPCN-1
.ENDM
.ENDC
.BYTE BITSTR
.ENDM

.MACRO	CDEF1 A
CPT'A==.
.ENDM

BITSTR==0

.REPT CWIDTH
BITAD \.RPCNT
.ENDR

CMASK==BITSTR

.XCREF FONT,CDEF1

.=FSTRT+FNWIDE
.WORD CWIDTH		;NUMBER OF BITS IN A CHAR (WIDTH)
.WORD CHIGH		;NUMBER OF LINES IN A CHAR
.WORD FNTLEN		;NUMBER OF BYTES IN THE FONT
.WORD CHIGH+<CHIGH/5>	;NUMBER OF TVLINES PER CHAR LINE
.WORD CMASK		;MASK FOR THE CURSOR RIGHT ADJUSTED
.=FSTRT+FNTPNT
.REPT 200		;POINTER ARRAY
	CHARPT \.RPCNT
.ENDR

ZJI
FNTLEN=.-FSTRT

.MACRO PAD A,B
.PRINT /A B/
.ENDM
.IIF P2,PAD <LENGTH=>,\<.-FSTRT>


JSCWIDTH==G2I.
SCHIGH==G3I.

Q0-8"GJS.BYTE BITSTR.WORD BITSTR'

