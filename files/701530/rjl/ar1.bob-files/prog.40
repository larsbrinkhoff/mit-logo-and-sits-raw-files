

(DECLARE (SETQ SPECIAL T)) 

(SETQ *NOPOINT T BASE 10. IBASE 10.) 

(ARRAY VTAB FLONUM 100.) 

(ARRAY DATA T 4000.) 

(ARRAY QTABLE FIXNUM 2000.) 

(ARRAY YEARTOT FIXNUM 2000.) 

(ARRAY CASES-YEAR FIXNUM 25. 2000.) 

(ARRAY FTABLE FLONUM 2000.) 

(ARRAY GRADE-CODE FIXNUM 25. 100.) 

(SETQ QFILETAB (ARRAY NIL READTABLE)) 

(PROG (READTABLE) 
      (SETQ READTABLE QFILETAB)
      (SSTATUS SYNTAX 46. 130.)
      (SSTATUS SYNTAX 47. 2.)) 

(SETQ FILETAB (ARRAY NIL READTABLE)) 

(PROG (READTABLE) 
      (SETQ READTABLE FILETAB)
      (SSTATUS SYNTAX 46. 2.)
      (SSTATUS SYNTAX 47. 2.)) 

(DEFUN READDATA (FILE RTABLE) 
       (PROG (READTABLE) 
	     (SETQ READTABLE RTABLE)
	     (RETURN (READLIST (APPEND '(|(|)
				       (EXPLODEC (READLINE FILE))
				       '(|)|)))))) 

(DEFUN OPENDATA NIL (SETQ FILE (OPEN '((DSK RJL) CARDS1 >)))) 

(DEFUN OPENTAB NIL (SETQ TABFILE (OPEN '((DSK RJL) TAB >)))) 

(DEFUN SLURP-TAB NIL 
       (OPENTAB)
       (PROG (FOO) 
	LOOP (SETQ FOO (READDATA TABFILE QFILETAB))
	     (COND ((NULL FOO) (CLOSE TABFILE) (RETURN NIL))
		   (T (STORE (VTAB (CAR FOO)) (CADR FOO))))
	     (GO LOOP))) 
(DEFUN RDATA NIL 
       (SETQ FILE (OPEN '((DSK RJL) PCARDS >)))
       (PROG (FOO) 
	     (SETQ NCASES 1.)
	LOOP (SETQ FOO (READ FILE))
	     (COND ((NULL FOO)
		    (CLOSE FILE)
		    (SETQ NCASES (1- NCASES))
		    (RETURN NIL))
		   (T (STORE (DATA NCASES) FOO)))
	     (SETQ NCASES (1+ NCASES))
	     (GO LOOP))) 

(DEFUN CADDDDR (FOO) (CADDR (CDDR FOO))) 

(DEFUN CADDDDDDR (FOO) (CADDR (CDDR (CDDR FOO)))) 

(DEFUN CADDDDDDDR (FOO) (CADDDR (CDDR (CDDR FOO)))) 

(DEFUN CADDDDDDDDR (FOO) (CADDDR (CDDR (CDDDR FOO)))) 

(DEFUN SLURP-DATA NIL 
       (OPENDATA)
       (PROG (FOO) 
	     (SETQ NCASES 1.)
	LOOP (SETQ FOO (READDATA FILE FILETAB))
	     (COND ((NULL (CAR FOO)) (CLOSE FILE) (RETURN NIL))
		   (T (STORE (DATA NCASES)
			     (LIST (CADDDDR FOO)
				   (CADDDDDDR FOO)
				   (CADDDDDDDR FOO)))))
	     (SETQ NCASES (1+ NCASES))
	     (GO LOOP))) 

(DEFUN SCANDATA NIL (DO NIL (NIL) (PRINT (READDATA FILE FILETAB)))) 

(DEFUN PDATA NIL 
       (PROG (FOO) 
	     (SETQ FOO 1.)
	LOOP (PRINT (DATA FOO))
	     (SETQ FOO (1+ FOO))
	     (GO LOOP))) 

(DEFUN SLURP-Q NIL 
       (PROG (FILE FOO) 
	     (SETQ FILE (OPEN '((DSK RJL) QTAB >)))
	LOOP (SETQ FOO (READDATA FILE FILETAB))
	     (COND ((NULL (CAR FOO)) (CLOSE FILE) (RETURN NIL))
		   (T (STORE (QTABLE (CAR FOO)) (CADR FOO))))
	     (GO LOOP))) 

(DEFUN INIT NIL (RDATA) (SLURP-Q) (SLURP-TAB)) 
